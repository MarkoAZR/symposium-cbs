---
interface Props {
  title: string;
  time: string;
  type?: 'keynote' | 'research' | 'panel';
  description: string;
  speakers: Array<{
    name: string;
    title: string;
    image: string;
  }>;
  timeEnd?: string;
  borderColor?: string;
}

const {
  title,
  time,
  timeEnd,
  type = 'research',
  description,
  speakers,
  borderColor = 'border-blue-500'
} = Astro.props;

const typeColors = {
  keynote: 'bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300',
  research: 'bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300',
  panel: 'bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300',
};

const typeIcons = {
  keynote: 'star',
  research: 'science',
  panel: 'forum',
};

const typeLabels = {
  keynote: 'Keynote',
  research: 'Research Presentation',
  panel: 'Panel Discussion',
};
---

<div class="bg-white dark:bg-slate-800 rounded-2xl p-6 md:p-8 shadow-sm border border-slate-200 dark:border-slate-700 hover:border-blue-300 dark:hover:border-blue-700 transition-all flex flex-col md:flex-row gap-6">
  <!-- Time Column -->
  <div class={`md:w-48 flex-shrink-0 flex flex-col justify-center border-l-4 ${borderColor} pl-4 py-2`}>
    <span class="text-2xl font-bold text-slate-900 dark:text-white">{time}</span>
    {timeEnd && <span class="text-sm text-slate-500 dark:text-slate-400 font-medium uppercase">{timeEnd}</span>}
  </div>

  <!-- Content Column -->
  <div class="flex-grow">
    <!-- Type Badge -->
    <div class="flex items-start justify-between mb-2">
      <span class={`inline-block px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${typeColors[type]}`}>
        {typeLabels[type]}
      </span>
    </div>

    <!-- Title -->
    <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-2">{title}</h3>

    <!-- Description -->
    <p class="text-slate-600 dark:text-slate-300 mb-4 line-clamp-2">{description}</p>

    <!-- Speakers -->
    <div class="space-y-3">
      {speakers.map((speaker) => (
        <div class="flex items-center gap-3">
          <div class="h-10 w-10 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden flex-shrink-0">
            <img 
              alt={speaker.name}
              class="h-full w-full object-cover" 
              src={speaker.image}
            />
          </div>
          <div>
            <p class="text-sm font-bold text-slate-900 dark:text-white">{speaker.name}</p>
            <p class="text-xs text-slate-500 dark:text-slate-400">{speaker.title}</p>
          </div>
        </div>
      ))}
    </div>
  </div>
</div>
